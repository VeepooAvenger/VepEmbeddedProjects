/***************************Copyright(c)***********************************
**                       Veepoo Tech
**                  COPYRIGHT (C) 2016-2019
**-----------File Info-----------------------------------------------------
** File        name:     daily_test.c
** Last modified Date:   2017-08-01
** Last SYS_VERSION:     0.0.0
** Descriptions:            
**-------------------------------------------------------------------------
** Created  by:          WJ
** Created  date:        2017-08-01
** SYS_VERSION:          0.0.0
** Descriptions:         
**-------------------------------------------------------------------------
** Modified by:				
** Modified date:  			          
** SYS_VERSION:                 
** Descriptions:                        
***************************************************************************/

#include "stdint.h"
#include "string.h"

#include "system_clock.h"
#include "daily_info.h"
#include "daily_test.h"


#if DAILY_TEST_SLEEP

#define DAILY_TEST_MAX_CNT  800

uint16_t daily_test_index = 0;

extern const system_clock_time_t*  clock;

const uint8_t test_data[DAILY_TEST_MAX_CNT][20] = {

8,16,22,10,0,24,0,89,1,0,0,74,21,77,251,99,0,12,0,0,
8,16,22,15,0,18,0,73,0,0,0,63,21,77,252,138,0,21,0,0,
8,16,22,20,255,214,0,11,1,0,0,71,0,57,0,0,0,0,4,18,
8,16,22,25,0,0,0,31,0,0,0,63,21,121,0,0,0,0,0,0,
8,16,22,30,1,216,0,196,0,0,0,53,21,91,147,86,1,5,0,0,
8,16,22,35,1,76,0,138,0,0,0,53,21,91,189,214,1,177,0,0,
8,16,22,40,0,231,0,128,0,0,0,52,21,57,101,44,2,41,0,0,
8,16,22,45,0,0,0,2,141,0,0,52,21,150,189,214,2,41,0,0,
8,16,22,50,0,0,0,5,0,0,0,52,21,150,101,44,2,41,0,0,
8,16,22,55,0,0,0,2,158,0,0,52,21,150,189,214,2,41,0,0,
8,16,23,0,0,0,0,0,0,0,0,52,21,150,101,44,2,41,0,0,
8,16,23,5,0,0,0,2,91,0,0,52,21,150,189,214,2,41,0,0,
8,16,23,10,0,0,0,0,0,0,0,52,21,150,101,44,2,41,0,0,
8,16,23,15,0,0,0,1,89,0,0,52,21,150,189,214,2,41,0,0,
8,16,23,20,0,0,0,1,0,0,0,52,21,150,101,44,2,41,0,0,
8,16,23,25,0,0,0,2,92,0,0,52,21,150,189,214,2,41,0,0,
8,16,23,30,0,0,0,4,0,0,0,51,21,142,101,44,2,41,0,0,
8,16,23,35,0,0,0,2,154,0,0,51,21,150,189,214,2,41,0,0,
8,16,23,40,0,0,0,2,0,0,0,51,21,150,101,44,2,41,0,0,
8,16,23,45,0,0,0,1,153,0,0,51,21,150,189,214,2,41,0,0,
8,16,23,50,0,0,0,3,0,0,0,51,21,150,101,44,2,41,0,0,
8,16,23,55,0,0,0,2,125,0,0,51,21,150,189,214,2,41,0,0,


8,17,0,0,251,245,0,2,1,0,0,51,0,149,0,0,0,0,4,55,
8,17,0,5,0,0,0,2,82,0,0,51,21,150,0,0,0,0,0,0,
8,17,0,10,0,0,0,0,0,0,0,51,21,150,0,0,0,0,0,0,
8,17,0,15,0,0,0,10,0,0,0,51,21,144,0,0,0,0,0,0,
8,17,0,20,0,75,0,107,0,0,0,63,21,76,241,99,0,38,0,0,
8,17,0,25,0,0,0,27,0,0,0,64,21,122,0,0,0,38,0,0,
8,17,0,30,3,192,0,24,1,0,0,54,0,66,0,0,0,0,6,25,
8,17,0,35,0,0,0,8,77,0,0,61,21,130,0,0,0,0,0,0,
8,17,0,40,0,0,0,22,0,0,0,61,21,98,0,0,0,0,0,0,
8,17,0,45,0,0,0,32,0,0,0,73,21,122,0,0,0,0,0,0,
8,17,0,50,0,0,0,45,0,0,0,73,21,85,0,0,0,0,0,0,
8,17,0,55,0,0,0,35,69,0,0,64,21,61,0,0,0,0,0,0,
8,17,1,0,0,0,0,4,0,0,0,64,21,114,0,0,0,0,0,0,
8,17,1,5,0,0,0,35,76,0,0,64,21,66,0,0,0,0,0,0,
8,17,1,10,0,0,0,13,1,0,0,73,0,79,0,0,0,0,6,5,
8,17,1,15,0,0,0,1,78,0,0,71,21,147,0,0,0,0,0,0,
8,17,1,20,0,0,0,8,0,0,0,71,21,72,0,0,0,0,0,0,
8,17,1,25,0,0,0,14,0,0,0,73,21,97,0,0,0,0,0,0,
8,17,1,30,0,0,0,4,0,0,0,64,21,146,0,0,0,0,0,0,
8,17,1,35,0,10,0,16,81,0,0,64,21,82,209,198,0,81,0,0,
8,17,1,40,0,0,0,15,0,0,0,54,21,82,0,0,0,81,0,0,
8,17,1,45,0,0,0,3,70,0,0,54,21,150,209,198,0,81,0,0,
8,17,1,50,255,246,0,0,1,0,0,51,0,0,0,0,0,0,6,45,
8,17,1,55,0,0,0,0,68,0,0,51,21,0,0,0,0,0,0,0,
8,17,2,0,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,55,
8,17,2,5,0,0,0,6,69,0,0,54,21,106,0,0,0,0,0,0,
8,17,2,10,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,5,
8,17,2,15,0,0,0,6,62,0,0,54,21,43,0,0,0,0,0,0,
8,17,2,15,0,0,0,0,62,0,0,51,0,0,0,0,0,0,6,14,
8,17,2,20,0,0,0,0,0,0,0,54,21,125,0,0,0,0,0,0,
8,17,2,25,0,0,0,0,63,0,0,54,21,150,0,0,0,0,0,0,
8,17,2,30,0,0,0,0,1,0,0,54,0,68,0,0,0,0,6,25,
8,17,2,35,0,0,0,0,68,0,0,54,21,150,0,0,0,0,0,0,
8,17,2,40,0,12,0,13,1,0,0,73,0,52,22,4,1,69,6,35,
8,17,2,45,0,0,0,12,0,0,0,54,21,125,0,0,1,69,0,0,
8,17,2,50,0,0,0,4,0,0,0,54,21,147,22,4,1,69,0,0,
8,17,2,55,0,0,0,0,58,0,0,54,21,150,0,0,1,69,0,0,
8,17,3,0,0,0,0,2,0,0,0,54,21,148,22,4,1,69,0,0,
8,17,3,5,0,0,0,2,65,0,0,54,4,149,0,0,1,69,0,0,
8,17,3,10,255,244,0,0,1,0,0,51,0,0,0,0,0,0,6,5,
8,17,3,15,0,0,0,0,61,0,0,51,21,0,0,0,0,0,0,0,
8,17,3,20,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,15,
8,17,3,25,0,0,0,0,62,0,0,51,21,0,0,0,0,0,0,0,
8,17,3,30,0,0,0,3,0,0,0,54,21,6,0,0,0,0,0,0,
8,17,3,35,0,0,0,10,65,0,0,53,21,130,0,0,0,0,0,0,
8,17,3,40,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,35,
8,17,3,45,0,0,0,0,67,0,0,51,21,0,0,0,0,0,0,0,
8,17,3,50,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,45,
8,17,3,55,0,0,0,0,0,0,0,51,21,0,0,0,0,0,0,0,
8,17,4,0,0,0,0,0,0,0,0,51,21,0,0,0,0,0,0,0,
8,17,4,5,0,0,0,0,65,0,0,51,21,0,0,0,0,0,0,0,
8,17,4,10,0,0,0,10,0,0,0,54,21,45,0,0,0,0,0,0,
8,17,4,15,0,0,0,1,60,0,0,54,39,150,0,0,0,0,0,0,
8,17,4,20,0,0,0,2,1,0,0,54,0,23,0,0,0,0,6,15,
8,17,4,25,0,0,0,8,63,0,0,53,39,142,0,0,0,0,0,0,
8,17,4,30,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,25,
8,17,4,35,0,0,0,0,58,0,0,51,39,0,0,0,0,0,0,0,
8,17,4,40,0,0,0,0,0,0,0,51,7,0,0,0,0,0,0,0,
8,17,4,45,0,0,0,0,0,0,0,51,7,0,0,0,0,0,0,0,
8,17,4,50,0,0,0,0,0,0,0,51,7,0,0,0,0,0,0,0,
8,17,4,55,0,0,0,0,0,0,0,51,7,0,0,0,0,0,0,0,
8,17,5,0,0,0,0,0,0,0,0,51,7,0,0,0,0,0,0,0,
8,17,5,5,0,0,0,0,0,0,0,53,7,71,0,0,0,0,0,0,
8,17,5,10,0,0,0,3,0,0,0,54,7,101,0,0,0,0,0,0,
8,17,5,15,0,0,0,0,62,0,0,54,7,150,0,0,0,0,0,0,
8,17,5,20,0,0,0,1,1,0,0,73,0,2,0,0,0,0,6,15,
8,17,5,25,0,0,0,1,63,0,0,71,39,148,0,0,0,0,0,0,
8,17,5,30,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,25,
8,17,5,35,0,0,0,1,0,0,0,53,39,2,0,0,0,0,0,0,
8,17,5,40,0,0,0,5,0,0,0,54,7,147,0,0,0,0,0,0,
8,17,5,45,0,0,0,11,59,0,0,53,7,91,0,0,0,0,0,0,
8,17,5,50,0,0,0,0,1,0,0,53,0,65,0,0,0,0,6,45,
8,17,5,55,0,0,0,3,64,0,0,54,39,128,0,0,0,0,0,0,
8,17,6,0,0,0,0,4,1,0,0,54,0,126,0,0,0,0,6,55,
8,17,6,5,0,0,0,4,62,0,0,54,39,148,0,0,0,0,0,0,
8,17,6,10,0,0,0,0,0,0,0,54,7,150,0,0,0,0,0,0,
8,17,6,15,0,0,0,0,60,0,0,54,7,150,0,0,0,0,0,0,
8,17,6,20,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,15,
8,17,6,25,0,0,0,0,61,0,0,54,39,24,0,0,0,0,0,0,
8,17,6,30,0,0,0,0,1,0,0,51,0,0,0,0,0,0,6,25,
8,17,6,35,0,0,0,0,64,0,0,51,39,0,0,0,0,0,0,0,
8,17,6,40,0,0,0,5,1,0,0,73,0,6,0,0,0,0,6,35,
8,17,6,45,0,0,0,0,71,0,0,73,39,150,0,0,0,0,0,0,
8,17,6,50,0,0,0,5,1,0,0,54,0,61,0,0,0,0,14,45,
8,17,6,55,0,0,0,0,61,0,0,54,39,150,0,0,0,0,0,0,
8,17,7,0,0,0,0,0,1,0,0,51,0,0,0,0,0,0,14,55,
8,17,7,5,0,0,0,0,61,0,0,51,200,0,0,0,0,0,0,0,
8,17,7,10,0,0,0,6,1,0,0,63,0,49,0,0,0,0,14,5,
8,17,7,15,0,0,0,16,0,0,0,63,200,95,0,0,0,0,0,0,
8,17,7,20,0,34,0,109,0,0,0,53,200,37,89,81,1,66,0,0,
8,17,7,25,0,251,0,178,0,0,0,63,200,74,204,118,1,200,0,0,
8,17,7,30,1,154,0,205,0,0,0,53,200,74,6,26,0,17,0,0,
8,17,7,35,2,42,0,223,0,0,0,53,21,142,94,19,1,48,0,0,
8,17,7,40,0,238,0,106,0,0,0,53,21,82,214,204,1,171,0,0,
8,17,7,50,0,45,0,34,0,0,0,63,21,38,84,214,1,195,0,0,
8,17,7,55,0,0,0,29,82,0,0,73,21,82,214,204,1,195,0,0,
8,17,8,0,0,0,0,28,0,0,0,63,21,129,84,214,1,195,0,0,
8,17,8,5,0,0,0,6,72,0,0,63,21,78,214,204,1,195,0,0,
8,17,8,10,0,0,0,23,0,0,0,63,21,142,84,214,1,195,0,0,
8,17,8,15,0,0,0,9,0,0,0,63,21,150,214,204,1,195,0,0,
8,17,8,20,0,0,0,2,0,0,0,63,21,150,84,214,1,195,0,0,
8,17,8,25,0,0,0,10,0,0,0,63,21,149,214,204,1,195,0,0,
8,17,8,30,1,34,0,136,1,0,0,53,0,68,96,107,1,89,14,25,
8,17,8,35,1,220,0,181,59,0,0,53,21,135,161,107,2,79,0,0,
8,17,8,40,0,0,0,30,0,0,0,63,21,95,96,107,2,79,0,0,
8,17,8,45,0,67,0,55,0,0,0,63,21,106,147,245,2,114,0,0,
8,17,8,50,0,126,0,91,1,0,0,53,21,47,71,73,0,36,0,0,
8,17,8,55,0,0,0,14,0,0,0,51,21,139,147,245,0,36,0,0,
8,17,9,0,0,0,0,6,0,0,0,51,21,146,71,73,0,36,0,0,
8,17,9,5,0,0,0,18,0,0,0,51,21,118,147,245,0,36,0,0,
8,17,9,10,0,0,0,25,1,0,0,52,21,117,71,73,0,36,0,0,
8,17,9,15,0,0,0,1,1,0,0,52,21,150,147,245,0,36,0,0,
8,17,9,20,0,0,0,33,1,0,0,52,21,66,71,73,0,36,0,0,
8,17,9,25,0,0,0,0,0,0,0,51,21,150,147,245,0,36,0,0,
8,17,9,30,0,0,0,0,0,0,0,51,21,150,71,73,0,36,0,0,
8,17,9,35,0,0,0,6,0,0,0,52,21,101,147,245,0,36,0,0,
8,17,9,40,0,0,0,2,0,0,0,52,21,150,71,73,0,36,0,0,
8,17,9,45,0,0,0,2,0,0,0,52,21,150,147,245,0,36,0,0,
8,17,9,55,246,69,0,2,0,0,0,51,0,18,0,0,0,0,14,52,
    
    
    
};


void DailyTest_Init(void)
{
    uint8_t time[7] = {0x07, 0xE1, 8, 16, 22, 06, 0};
    
    daily_test_index = 0;
    
    //设置开始仿真数据时间  
    Sclock_SynchronizationTime(time, 7);
    Daily_SetDailyPkgInfo(0, 0);
}


uint8_t  DailyTest_setData(uint8_t *data)
{
    uint8_t test_buf[20] = {0x00,};
    if(daily_test_index >= DAILY_TEST_MAX_CNT)
    {
        return 0;
    }
    
    memcpy(test_buf, &test_data[daily_test_index][0], 20);
    
    test_buf[17] = Daily_GetSleepCode();
    
    memcpy(data, &test_buf, 20);  
    
//    memcpy(data, &test_data[daily_test_index][0], 20);   
    daily_test_index++;    
    
    return 1;
}

#endif

